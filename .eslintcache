[{"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\App.js":"1","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\index.js":"2","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\reportWebVitals.js":"3","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\layout.js":"4","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\components\\TopMenu\\TopMenu.js":"5","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\theme.js":"6","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\components\\LeftMenu\\LeftMenu.js":"7","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\components\\RightMenu\\RightMenu.js":"8","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\redux\\store.js":"9","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\redux\\slices\\NavigationSlice.js":"10","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\utils\\api\\Equipments.js":"11","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\redux\\slices\\EquipmentsSlice.js":"12","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\redux\\slices\\RoomsSlice.js":"13","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\utils\\api\\Rooms.js":"14","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\pages\\equipments\\Equipments.js":"15","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\pages\\rooms\\Rooms.js":"16","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\pages\\home\\Home.js":"17","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\components\\Modals\\Modal.js":"18","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\utils\\api\\Users.js":"19","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\redux\\slices\\UsersSlice.js":"20","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\components\\Modals\\Profiles.js":"21","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\components\\Modals\\Login.js":"22","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\utils\\api\\auth.js":"23","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\components\\RightMenu\\Account.js":"24","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\components\\EquipmentsCards\\LedCard.js":"25","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\utils\\sockets\\LedRequest.js":"26"},{"size":314,"mtime":1610231124039,"results":"27","hashOfConfig":"28"},{"size":630,"mtime":1610277813359,"results":"29","hashOfConfig":"28"},{"size":362,"mtime":1606671571273,"results":"30","hashOfConfig":"28"},{"size":4241,"mtime":1610579966441,"results":"31","hashOfConfig":"28"},{"size":4439,"mtime":1610479001207,"results":"32","hashOfConfig":"28"},{"size":441,"mtime":1610315498408,"results":"33","hashOfConfig":"28"},{"size":6253,"mtime":1610797325859,"results":"34","hashOfConfig":"28"},{"size":2910,"mtime":1610403957822,"results":"35","hashOfConfig":"28"},{"size":673,"mtime":1610293864995,"results":"36","hashOfConfig":"28"},{"size":1514,"mtime":1610578035114,"results":"37","hashOfConfig":"28"},{"size":899,"mtime":1610304087651,"results":"38","hashOfConfig":"28"},{"size":863,"mtime":1610577959336,"results":"39","hashOfConfig":"28"},{"size":480,"mtime":1610279035050,"results":"40","hashOfConfig":"28"},{"size":636,"mtime":1610278868061,"results":"41","hashOfConfig":"28"},{"size":253,"mtime":1610282018236,"results":"42","hashOfConfig":"28"},{"size":238,"mtime":1610282745017,"results":"43","hashOfConfig":"28"},{"size":1414,"mtime":1610576040221,"results":"44","hashOfConfig":"28"},{"size":996,"mtime":1610311585930,"results":"45","hashOfConfig":"28"},{"size":612,"mtime":1610293596465,"results":"46","hashOfConfig":"28"},{"size":771,"mtime":1610312226850,"results":"47","hashOfConfig":"28"},{"size":2857,"mtime":1610301916486,"results":"48","hashOfConfig":"28"},{"size":3557,"mtime":1610310112688,"results":"49","hashOfConfig":"28"},{"size":413,"mtime":1610308347492,"results":"50","hashOfConfig":"28"},{"size":456,"mtime":1610313522968,"results":"51","hashOfConfig":"28"},{"size":1906,"mtime":1610744396160,"results":"52","hashOfConfig":"28"},{"size":3253,"mtime":1610576017183,"results":"53","hashOfConfig":"28"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"dh3i6b",{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63","usedDeprecatedRules":"56"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"72","messages":"73","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"74","messages":"75","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"76","messages":"77","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"82","messages":"83","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"84","messages":"85","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"106","messages":"107","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"108","usedDeprecatedRules":"56"},"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\App.js",[],["109","110"],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\index.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\reportWebVitals.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\layout.js",["111"],"import React, { useEffect, useState } from 'react';\r\n\r\n// Redux\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { setEquipments, setInitializedEquipments } from './redux/slices/EquipmentsSlice';\r\nimport { setRooms } from './redux/slices/RoomsSlice';\r\nimport { setProfiles } from './redux/slices/UsersSlice';\r\n\r\n// React-Router\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\n\r\n// API request\r\nimport { getEquipments } from './utils/api/Equipments';\r\nimport { getRooms } from './utils/api/Rooms';\r\nimport { getUsers } from './utils/api/Users';\r\n\r\n// Socket resquest\r\n// Internal import\r\nimport { TopMenu } from './components/TopMenu/TopMenu';\r\nimport Equipments from './pages/equipments/Equipments';\r\nimport Rooms from './pages/rooms/Rooms';\r\nimport Home from './pages/home/Home';\r\nimport Modal from './components/Modals/Modal';\r\n\r\n// Material UI\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { setRenderStatus } from './redux/slices/NavigationSlice';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        backgroundColor: theme.palette.primary.main,\r\n        minHeight: '100vh'\r\n    },\r\n    container: {\r\n        marginTop: '10vh',\r\n    },\r\n}));\r\n\r\nconst Layout = () => {\r\n    const [isLoading, setIsLoading] = useState(false)\r\n    const state = useSelector(state => state);\r\n    const render = useSelector(state => state.navigation.render)\r\n\r\n    const classes = useStyles()\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        setIsLoading(true)\r\n        async function promise() {\r\n            await Promise.all([getEquipments(), getRooms(), getUsers()])\r\n                .then((res) => {\r\n                    const equipments = res[0].data;\r\n                    const rooms = res[1].data;\r\n                    const profiles = res[2].data;\r\n\r\n                    console.log(JSON.stringify(profiles), JSON.stringify(state.profiles))\r\n\r\n                    if (JSON.stringify(equipments) !== JSON.stringify(state.equipments.allEquipments)) {\r\n                        console.log('s');\r\n                        const initializedEquipments = equipments\r\n                            .filter(equipment => equipment?.gpio)\r\n                            //.sort((a, b) => (a.counter < b.counter) ? 1 : -1)\r\n\r\n                        dispatch(setInitializedEquipments(initializedEquipments))\r\n                        dispatch(setEquipments(equipments))\r\n                    }\r\n                    if (JSON.stringify(rooms) !== JSON.stringify(state.rooms.allRooms)) {\r\n                        console.log('s');\r\n                        dispatch(setRooms(rooms))\r\n                    }\r\n                    if (JSON.stringify(profiles) !== JSON.stringify(state.users.allProfiles)) {\r\n                        console.log('s');\r\n                        dispatch(setProfiles(profiles))\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.log(err.message)\r\n                })\r\n        }\r\n        promise()\r\n        setIsLoading(false)\r\n        dispatch(setRenderStatus(false))\r\n    }, [render])\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {isLoading\r\n                ? 'Please wait ...'\r\n                : <>\r\n                    <Modal />\r\n                    <Router>\r\n                        <TopMenu />\r\n                        <div className={classes.container}>\r\n                            {/* <Container className={classes.container} maxWidth={'md'}> */}\r\n                            <Switch>\r\n                                <Route path=\"/equipments\">\r\n                                    <Equipments />\r\n                                </Route>\r\n                                <Route path=\"/rooms\">\r\n                                    <Rooms />\r\n                                </Route>\r\n                                <Route path=\"/\">\r\n                                    <Home />\r\n                                </Route>\r\n                            </Switch>\r\n                            {/* </Container> */}\r\n                        </div>\r\n                    </Router>\r\n                </>\r\n            }\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Layout; ","C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\components\\TopMenu\\TopMenu.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\theme.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\components\\LeftMenu\\LeftMenu.js",["112"],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\components\\RightMenu\\RightMenu.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\redux\\store.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\redux\\slices\\NavigationSlice.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\utils\\api\\Equipments.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\redux\\slices\\EquipmentsSlice.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\redux\\slices\\RoomsSlice.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\utils\\api\\Rooms.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\pages\\equipments\\Equipments.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\pages\\rooms\\Rooms.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\pages\\home\\Home.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\components\\Modals\\Modal.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\utils\\api\\Users.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\redux\\slices\\UsersSlice.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\components\\Modals\\Profiles.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\components\\Modals\\Login.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\utils\\api\\auth.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\components\\RightMenu\\Account.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\components\\EquipmentsCards\\LedCard.js",[],"C:\\Users\\USER\\Desktop\\Projets\\Perso\\dom\\dom-client\\src\\utils\\sockets\\LedRequest.js",["113"],"// Socket config\r\nimport openSocket from 'socket.io-client';\r\n\r\n// API requests\r\nimport { getEquipmentById, updateEquipment } from '../api/Equipments';\r\n\r\nconst socket = openSocket(process.env.REACT_APP_DOM_SOCKET, { transports: ['websocket'] });\r\n\r\n// Request\r\nconst reqToggleLedKey = 'REQ_TOGGLE_LED';\r\nconst reqTimerLedKey = 'REQ_TIMER_LED';\r\nconst reqProgramLedKey = 'REQ_PROGRAM_LED';\r\nconst reqGetLedStatusKey = 'REQ_GET_LED_STATUS';\r\n\r\n// Response\r\nconst resToggleLedKey = 'RES_TOGGLE_LED';\r\nconst resTimerLedKey = 'RES_TIMER_LED';\r\nconst resProgramLedKey = 'RES_PROGRAM_LED';\r\nconst resGetLedStatus = 'RES_GET_LED_STATUS';\r\n\r\nexport function toggleLed(equipment) {\r\n    return new Promise(async (resolve, reject) => {\r\n        await socket.emit(reqToggleLedKey, (equipment));\r\n\r\n        await socket.on(resToggleLedKey, async (response) => {\r\n            await getEquipmentById(equipment._id).then(res => {\r\n                const bodyRequest = {\r\n                    status: response.status.newStatus,\r\n                    counter: res.data.counter + 1\r\n                };\r\n\r\n                updateEquipment(response.data._id, bodyRequest)\r\n                    .then(res => resolve(res))\r\n                    .catch(err => reject(err))\r\n            });\r\n        });\r\n    });\r\n};\r\n\r\nexport function timerLed(equipment, action) {\r\n    return new Promise(async (resolve, reject) => {\r\n        await socket.emit(reqTimerLedKey, ({ equipment, action }))\r\n\r\n        await socket.on(`${resTimerLedKey}_${equipment.id}`, async (response) => {\r\n            if (response?.status) {\r\n                await getEquipmentById(response.data._id)\r\n                    .then(res => {\r\n                        const bodyRequest = {\r\n                            status: response.status.newStatus,\r\n                            counter: response.counter + 1\r\n                        };;\r\n\r\n                        updateEquipment(response.data._id, bodyRequest)\r\n                            .then(res => resolve(res))\r\n                            .catch(err => reject(err))\r\n                    })\r\n\r\n            } else if (response?.message) {\r\n                reject(response.message);\r\n            };\r\n        });\r\n    });\r\n};\r\n\r\nexport function programLed(equipment, action) {\r\n    return new Promise(async (resolve, reject) => {\r\n        await socket.emit(reqProgramLedKey, ({ equipment, action }))\r\n\r\n        await socket.on(`${resProgramLedKey}_${equipment._id}`, async (response) => {\r\n            if (response?.status) {\r\n                await getEquipmentById(response.data._id)\r\n                    .then(res => {\r\n                        const bodyRequest = {\r\n                            status: response.status.newStatus,\r\n                            counter: response.counter + 1\r\n                        }\r\n\r\n                        updateEquipment(response.data._id, bodyRequest)\r\n                            .then(res => resolve(res))\r\n                            .catch(err => reject(err))\r\n                    })\r\n\r\n            } else if (response?.message) {\r\n                reject(response.message);\r\n            };\r\n        });\r\n    });\r\n};\r\n\r\nexport function getLedStatus(equipment) {\r\n    socket.emit(reqGetLedStatusKey, (equipment));\r\n};\r\n",{"ruleId":"114","replacedBy":"115"},{"ruleId":"116","replacedBy":"117"},{"ruleId":"118","severity":1,"message":"119","line":83,"column":8,"nodeType":"120","endLine":83,"endColumn":16,"suggestions":"121"},{"ruleId":"122","severity":1,"message":"123","line":18,"column":8,"nodeType":"124","messageId":"125","endLine":18,"endColumn":15},{"ruleId":"122","severity":1,"message":"126","line":19,"column":7,"nodeType":"124","messageId":"125","endLine":19,"endColumn":22},"no-native-reassign",["127"],"no-negated-in-lhs",["128"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'dispatch', 'state.equipments.allEquipments', 'state.profiles', 'state.rooms.allRooms', and 'state.users.allProfiles'. Either include them or remove the dependency array.","ArrayExpression",["129"],"no-unused-vars","'Divider' is defined but never used.","Identifier","unusedVar","'resGetLedStatus' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"130","fix":"131"},"Update the dependencies array to be: [dispatch, render, state.equipments.allEquipments, state.profiles, state.rooms.allRooms, state.users.allProfiles]",{"range":"132","text":"133"},[3122,3130],"[dispatch, render, state.equipments.allEquipments, state.profiles, state.rooms.allRooms, state.users.allProfiles]"]